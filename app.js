!function(){"use strict";var e="undefined"==typeof window?global:window;if("function"!=typeof e.require){var t={},n={},r={},o={}.hasOwnProperty,a=/^\.\.?(\/|$)/,i=function(e,t){for(var n,r=[],o=(a.test(t)?e+"/"+t:t).split("/"),i=0,u=o.length;i<u;i++)n=o[i],".."===n?r.pop():"."!==n&&""!==n&&r.push(n);return r.join("/")},u=function(e){return e.split("/").slice(0,-1).join("/")},l=function(t){return function(n){var r=i(u(t),n);return e.require(r,t)}},s=function(e,t){var r=null;r=v&&v.createHot(e);var o={id:e,exports:{},hot:r};return n[e]=o,t(o.exports,l(e),o),o.exports},c=function(e){return r[e]?c(r[e]):e},f=function(e,t){return c(i(u(e),t))},p=function(e,r){null==r&&(r="/");var a=c(e);if(o.call(n,a))return n[a].exports;if(o.call(t,a))return s(a,t[a]);throw new Error("Cannot find module '"+e+"' from '"+r+"'")};p.alias=function(e,t){r[t]=e};var d=/\.[^.\/]+$/,h=/\/index(\.[^\/]+)?$/,m=function(e){if(d.test(e)){var t=e.replace(d,"");o.call(r,t)&&r[t].replace(d,"")!==t+"/index"||(r[t]=e)}if(h.test(e)){var n=e.replace(h,"");o.call(r,n)||(r[n]=e)}};p.register=p.define=function(e,r){if("object"==typeof e)for(var a in e)o.call(e,a)&&p.register(a,e[a]);else t[e]=r,delete n[e],m(e)},p.list=function(){var e=[];for(var n in t)o.call(t,n)&&e.push(n);return e};var v=e._hmr&&new e._hmr(f,p,t,n);p._cache=n,p.hmr=v&&v.wrap,p.brunch=!0,e.require=p}}(),function(){var e;window;require.register("components/App.js",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=t("react"),s=r(l),c=t("react-dom"),f=t("classnames"),p=r(f),d=t("slideout"),h=r(d),m=t("./Menu"),v=r(m),y=t("./Timer"),b=r(y),w=t("./Toggle"),g=r(w),_=t("./Countdown"),O=r(_),j=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"componentDidUpdate",value:function(){var e=this.props.slideout,t=e.menu,n=e.panel,r=e.instance;!r&&t&&n&&this.props.dispatch({type:"setSlideout",instance:new h["default"]({panel:n,menu:t})})}},{key:"componentDidMount",value:function(){this.props.dispatch({type:"setSlideout",panel:(0,c.findDOMNode)(this.refs.panel)})}},{key:"render",value:function(){return s["default"].createElement("div",{className:"app"},s["default"].createElement(v["default"],this.props),s["default"].createElement("div",{ref:"panel",className:(0,p["default"])("panel",this.props.state)},s["default"].createElement(b["default"],this.props),s["default"].createElement(g["default"],this.props),s["default"].createElement("div",{className:"profile"},this.props.profile?this.props.profile.name:null),s["default"].createElement(O["default"],this.props)))}}]),t}(s["default"].Component);e["default"]=j}),require.register("components/Countdown.js",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=t("react"),s=r(l),c=t("howler"),f=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.sound=new c.Howl({src:["./audio/countdown.mp3"]}),n}return i(t,e),u(t,[{key:"componentDidUpdate",value:function(e){var t=e.countdown.count,n=this.props.countdown.count,r=Math.ceil(t)!==Math.ceil(n);t&&r&&(t&&n&&this.sound.play(),this.props.countdown.count||this.start())}},{key:"start",value:function(){var e=this.props,t=e.dispatch,n=e.settings,r=setInterval(function(){t({type:"update"})},100);t({type:"start",interval:r,settings:n})}},{key:"render",value:function(){var e=this.props.countdown;return e.count?s["default"].createElement("div",{className:"countdown"},Math.ceil(e.count)):null}}]),t}(s["default"].Component);e["default"]=f}),require.register("components/Menu.js",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=t("react"),s=r(l),c=t("react-dom"),f=t("classnames"),p=r(f),d=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"setSlideout",menu:(0,c.findDOMNode)(this)})}},{key:"saveProfile",value:function(e){e.preventDefault();var t=window.prompt("Profile name: ");if(t){var n=this.props,r=n.dispatch,o=n.settings;r({type:"saveProfile",name:t,settings:o})}}},{key:"selectProfile",value:function(e,t){t.preventDefault();var n=this.props,r=n.dispatch,o=n.slideout;r({type:"selectProfile",profile:e}),o.instance.close()}},{key:"newProfile",value:function(e){e.preventDefault(),this.props.dispatch({type:"selectProfile",profile:null})}},{key:"delProfile",value:function(e){e.preventDefault();var t=this.props,n=t.dispatch,r=t.profile;n({type:"delProfile",profile:r})}},{key:"renderProfile",value:function(e,t){var n=this.props.profile?this.props.profile.id:null;return s["default"].createElement("a",{onClick:this.selectProfile.bind(this,e),className:(0,p["default"])({"-active":e.id===n}),key:t,href:"#"},e.name)}},{key:"render",value:function(){var e=this.props,t=e.profile,n=e.profiles;return s["default"].createElement("nav",{className:"menu"},t?[s["default"].createElement("a",{onClick:this.newProfile.bind(this),key:"new",href:"#"},"New profile"),s["default"].createElement("a",{onClick:this.delProfile.bind(this),key:"delete",href:"#"},"Delete profile")]:s["default"].createElement("a",{onClick:this.saveProfile.bind(this),href:"#"},"Save profile"),s["default"].createElement("div",{className:"profiles"},n.map(this.renderProfile.bind(this))))}}]),t}(s["default"].Component);e["default"]=d}),require.register("components/Timer.js",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=t("react"),f=r(c),p=t("classnames"),d=r(p),h=t("howler"),m=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.sound=new h.Howl({src:["./audio/"+e.name+".mp3"]}),n}return u(t,e),s(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.timer.counts[this.props.name],n=Math.ceil(t)!==Math.ceil(e.timer.counts[e.name]);t>0&&n&&this.sound.play()}},{key:"update",value:function(e,t,n){var r;n.preventDefault();var a=this.props,i=a.dispatch,u=a.settings,l=a.name,s=a.min,c=a.max,f=u[l];"dec"===e&&f<=s||"inc"===e&&f>=c||i((r={type:"updateSetting"},o(r,e,t),o(r,"name",l),r))}},{key:"render",value:function(){var e=this.props,t=e.state,n=e.settings,r=e.timer,o=e.name,a=e.label,i=e.unit,u="stopped"===t,l=u?n:r.counts,s=l[o],c=Math.ceil(s);c=c||"reps"===o?c:"";var p=s/n[o];return f["default"].createElement("div",{className:(0,d["default"])("count",o,{active:o===r.count})},f["default"].createElement("div",{className:"count-bg",style:{height:100*p+"%"}}),f["default"].createElement("span",{className:"label"},a),u?f["default"].createElement("button",{className:"up",onClick:this.update.bind(this,"inc",1)}):null,f["default"].createElement("div",{className:"value"},c),u?f["default"].createElement("button",{className:"down",onClick:this.update.bind(this,"dec",1)}):null,f["default"].createElement("span",{className:"label"},i))}}]),t}(f["default"].Component),v=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.startSound=new h.Howl({src:["./audio/rep_start.mp3"]}),n.endSound=new h.Howl({src:["./audio/rep_end.mp3"]}),n}return u(t,e),s(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.timer.count;if(t!==e.timer.count)switch(t){case"hang":this.startSound.play();break;case"rest":this.endSound.play()}}},{key:"render",value:function(){return f["default"].createElement("div",{className:"timer"},f["default"].createElement(m,l({name:"hang",label:"Hang",unit:"secs",min:1,max:99},this.props)),f["default"].createElement(m,l({name:"rest",label:"Rest",unit:"secs",min:1,max:99},this.props)),"started"===this.props.state?f["default"].createElement(m,l({name:"reps",label:"Reps",unit:"left",min:1,max:99},this.props)):f["default"].createElement(m,l({name:"reps",label:"Reps",unit:"total",min:1,max:99},this.props)),f["default"].createElement(m,l({name:"recover",label:"Recover",unit:"mins",min:1,max:99},this.props)))}}]),t}(f["default"].Component);e["default"]=v}),require.register("components/Toggle.js",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=t("react"),s=r(l),c=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){return s["default"].createElement("button",{className:"toggle",onClick:this.toggle.bind(this)})}},{key:"toggle",value:function(e){e.preventDefault();var t=this.props,n=t.dispatch,r=t.state;if("stopped"===r){var o=setInterval(function(){n({type:"countdown"})},100);n({type:"startCountdown",interval:o})}else n({type:"stop"})}}]),t}(s["default"].Component);e["default"]=c}),require.register("initialize.js",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=t("react-dom"),a=r(o),i=t("react"),u=r(i),l=t("components/App"),s=r(l),c=t("redux"),f=t("react-redux"),p=t("./reducer"),d=r(p),h=(0,f.connect)(function(e){return e})(s["default"]);document.addEventListener("DOMContentLoaded",function(){var e=(0,c.createStore)(d["default"],{profiles:JSON.parse(window.localStorage.profiles||"[]"),countdown:3,settings:{hang:7,rest:3,reps:6,recover:3}});a["default"].render(u["default"].createElement(f.Provider,{store:e},u["default"].createElement(h,null)),document.querySelector("main"))})}),require.register("reducer.js",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=t("redux"),u=t("build-reducer"),l=r(u),s=t("hat"),c=r(s);e["default"]=(0,i.combineReducers)({state:(0,l["default"])({start:function(e){return"started"},stop:function(e){return"stopped"}},"stopped"),settings:(0,l["default"])({updateSetting:function(e,t){var n=t.name,r=t.inc,i=t.dec;return a({},e,o({},n,e[n]+(r||0)-(i||0)))},selectProfile:function(e,t){var n=t.profile;return n?a({},e,n.settings):e}},{}),timer:(0,l["default"])({start:function(e,t){var n=t.interval,r=t.settings,o=(new Date).getTime();return{settings:r,counts:r,interval:n,prevTime:o}},update:function(e){var t=(new Date).getTime(),n=t-e.prevTime,r=e.rep,o=e.count,i=e.settings,u=e.counts,l=u.hang,s=u.rest,c=u.reps,f=u.recover;return r=r||1,c=i.reps-r,u.hang>0?(o="hang",l=Math.max(0,u.hang-n/1e3)):u.rest>0?(o="rest",s=Math.max(0,u.rest-n/1e3)):u.reps>0?(o="reps",l=i.hang,s=i.rest,r++):u.recover>0?(o="recover",f=Math.max(0,u.recover-n/60/1e3)):(o="hang",l=i.hang,s=i.rest,c=i.reps),a({},e,{counts:{hang:l,rest:s,reps:c,recover:f},count:o,rep:r,prevTime:t})},stop:function(e){return clearInterval(e.interval),a({},e,{settings:null,count:null})}},{counts:{}}),countdown:(0,l["default"])({startCountdown:function(e,t){var n=t.interval,r=(new Date).getTime();return{count:5,interval:n,prevTime:r}},countdown:function(e){var t=(new Date).getTime(),n=t-e.prevTime,r=Math.max(0,e.count-n/1e3);return r>0?a({},e,{count:r,prevTime:t}):(clearInterval(e.interval),{})}},{}),slideout:(0,l["default"])({setSlideout:function(e,t){var n=t.menu,r=t.panel,o=t.instance;return a({},e,{panel:r||e.panel,menu:n||e.menu,instance:o||e.instance})}},{}),profiles:(0,l["default"])({saveProfile:function(e,t){var n=t.name,r=t.settings,o=e.concat({id:(0,c["default"])(),name:n,settings:r});return window.localStorage.profiles=JSON.stringify(o),o},delProfile:function(e,t){var n=t.profile;return e.filter(function(e){return e.id!==n.id})}},[]),profile:(0,l["default"])({selectProfile:function(e,t){var n=t.profile;return n},delProfile:function(e){return null}},null)})}),require.alias("process/browser.js","process"),e=require("process"),require.register("___globals___",function(e,t,n){})}(),require("___globals___");